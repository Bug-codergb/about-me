const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/OrbitControls.CD2FB1-f.js","assets/chunks/three.module.BTr0-ffp.js","assets/chunks/CSS2DRenderer.DzCxT8Fu.js"])))=>i.map(i=>d[i]);
import{C as H,c as J,o as U,j as D,G as T,a as K,w as Q,k as Z,d as $,v as ee,V as E,p as te,x as ne,aC as oe}from"./chunks/framework.C7kaS1yO.js";const se=JSON.parse('{"title":"中国3D地理分布","description":"","frontmatter":{"title":"中国3D地理分布","aside":false},"headers":[],"relativePath":"geography/index.md","filePath":"geography/index.md"}'),ae={name:"geography/index.md"},le=Object.assign(ae,{setup(re){const k=$({setup(){const i=te(null);let a,r,s,l,b,x,v,m=null,n=null;const G={北京市:"北京",天津市:"天津",上海市:"上海",重庆市:"重庆",河北省:"石家庄",山西省:"太原",辽宁省:"沈阳",吉林省:"长春",黑龙江省:"哈尔滨",江苏省:"南京",浙江省:"杭州",安徽省:"合肥",福建省:"福州",江西省:"南昌",山东省:"济南",河南省:"郑州",湖北省:"武汉",湖南省:"长沙",广东省:"广州",海南省:"海口",四川省:"成都",贵州省:"贵阳",云南省:"昆明",陕西省:"西安",甘肃省:"兰州",青海省:"西宁",台湾省:"台北",内蒙古自治区:"呼和浩特",广西壮族自治区:"南宁",西藏自治区:"拉萨",宁夏回族自治区:"银川",新疆维吾尔自治区:"乌鲁木齐",香港特别行政区:"香港",澳门特别行政区:"澳门"},V=()=>{const e=["#409eff","#67c23a","#e6a23c","#f56c6c","#909399","#7265e6","#ffbf00","#00a2ae","#f5222d","#722ed1","#eb2f96","#fa8c16","#a0d911","#13c2c2","#52c41a"];return e[Math.floor(Math.random()*e.length)]};return ee(async()=>{if(typeof window>"u")return;const e=await E(()=>import("./chunks/three.module.BTr0-ffp.js"),[]),{OrbitControls:z}=await E(async()=>{const{OrbitControls:t}=await import("./chunks/OrbitControls.CD2FB1-f.js");return{OrbitControls:t}},__vite__mapDeps([0,1])),{CSS2DRenderer:N,CSS2DObject:A}=await E(async()=>{const{CSS2DRenderer:t,CSS2DObject:o}=await import("./chunks/CSS2DRenderer.DzCxT8Fu.js");return{CSS2DRenderer:t,CSS2DObject:o}},__vite__mapDeps([2,1])),B=await E(()=>import("./chunks/index.CTQV4bXd.js"),[]);a=new e.Scene,a.background=new e.Color("#050510");const _=i.value.clientWidth,p=800;r=new e.PerspectiveCamera(45,_/p,.1,1e4),r.position.set(0,-60,100),s=new e.WebGLRenderer({antialias:!0,alpha:!0}),s.setSize(_,p),s.setPixelRatio(window.devicePixelRatio),i.value.appendChild(s.domElement),l=new N,l.setSize(_,p),l.domElement.style.position="absolute",l.domElement.style.top="0px",l.domElement.style.pointerEvents="none",i.value.appendChild(l.domElement),b=new z(r,s.domElement),b.enableDamping=!0,a.add(new e.AmbientLight(16777215,.8));const M=new e.DirectionalLight(16777215,.5);M.position.set(200,300,500),a.add(M),x=new e.Raycaster,v=new e.Vector2,m=new e.Group,a.add(m);try{const o=await(await fetch("/about-me/map.json")).json(),c=B.geoMercator().center([104,37.5]).scale(115).translate([0,0]);o.features.forEach(d=>{if(!d.geometry)return;const h=new e.Group,R=V(),C=d.properties.name,O=f=>{const u=new e.Shape;f.forEach(X=>{X.forEach((Y,q)=>{const[L,j]=c(Y);q===0?u.moveTo(L,-j):u.lineTo(L,-j)})});const y=new e.ExtrudeGeometry(u,{depth:2,bevelEnabled:!0,bevelThickness:.2,bevelSize:.2}),w=new e.MeshStandardMaterial({color:R,transparent:!0,opacity:.8,metalness:.5,roughness:.3}),g=new e.Mesh(y,w);g.userData={originalColor:R,name:C},h.add(g);const W=new e.EdgesGeometry(y),F=new e.LineSegments(W,new e.LineBasicMaterial({color:"#ffffff",opacity:.2,transparent:!0}));h.add(F)};d.geometry.type==="Polygon"?O(d.geometry.coordinates):d.geometry.type==="MultiPolygon"&&d.geometry.coordinates.forEach(f=>O(f));const P=d.properties.center||d.properties.centroid;if(P){const[f,u]=c(P),y=new e.Mesh(new e.SphereGeometry(.4,16,16),new e.MeshBasicMaterial({color:"#ffeb3b"}));y.position.set(f,-u,2.5),h.add(y);const w=document.createElement("div");w.className="province-label",w.textContent=G[C]||C;const g=new A(w);g.position.set(f,-u,3.5),h.add(g)}m.add(h)})}catch(t){console.error("Map Load Error:",t)}n=document.createElement("div"),Object.assign(n.style,{position:"absolute",padding:"8px 12px",background:"rgba(0,0,0,0.8)",color:"#fff",borderRadius:"4px",pointerEvents:"none",display:"none",zIndex:"1000",border:"1px solid #409eff",fontSize:"14px"}),document.body.appendChild(n);const S=()=>{if(requestAnimationFrame(S),b&&b.update(),m&&r&&s){x.setFromCamera(v,r);const t=x.intersectObjects(m.children,!0);if(m.children.forEach(o=>{o.children.forEach(c=>{c.type==="Mesh"&&c.userData.originalColor&&(c.material.color.set(c.userData.originalColor),c.material.opacity=.8)})}),t.length>0){const o=t[0].object;o.userData.name&&(o.material.color.set("#ffffff"),o.material.opacity=1,n.innerText=o.userData.name,n.style.display="block")}else n.style.display="none";s.render(a,r),l.render(a,r)}},I=t=>{if(!i.value)return;const o=i.value.getBoundingClientRect();v.x=(t.clientX-o.left)/_*2-1,v.y=-((t.clientY-o.top)/p)*2+1,n.style.left=t.clientX+15+"px",n.style.top=t.clientY+15+"px"};window.addEventListener("mousemove",I),window.addEventListener("resize",()=>{if(!i.value)return;const t=i.value.clientWidth;r.aspect=t/p,r.updateProjectionMatrix(),s.setSize(t,p),l.setSize(t,p)}),S()}),ne(()=>{n!=null&&n.parentNode&&n.parentNode.removeChild(n)}),()=>oe("div",{ref:i,style:{width:"100%",height:"800px",position:"relative",borderRadius:"12px",overflow:"hidden",background:"#050510"}})}});return(i,a)=>{const r=H("ClientOnly");return U(),J("div",null,[a[0]||(a[0]=D("h1",{id:"_3d-中国地图分布图",tabindex:"-1"},[K("3D 中国地图分布图 "),D("a",{class:"header-anchor",href:"#_3d-中国地图分布图","aria-label":'Permalink to "3D 中国地图分布图"'},"​")],-1)),a[1]||(a[1]=D("p",null,"通过 3D 视觉可视化，直观展示中国各省份地理位置、行政区域及省会分布。",-1)),T(r,null,{default:Q(()=>[T(Z(k))]),_:1})])}}});export{se as __pageData,le as default};
